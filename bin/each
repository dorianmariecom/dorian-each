#!/usr/bin/env ruby
# frozen_string_literal: true

require "dorian/arguments"

parsed =
  Dorian::Arguments.parse(
    version: {
      alias: :v
    },
    help: {
      alias: :h
    }
  )

abort parsed.help if parsed.options.help

if parsed.options.version
  abort File.read(File.expand_path("../../VERSION", __FILE__))
end

$stdin.each_line do |it|
  it.strip!
  eval(ARGV.first)
end
